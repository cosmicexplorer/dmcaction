// Generated by CoffeeScript 2.6.1
var promisify;

({promisify} = require('util'));

import('../pkg').catch(console.error).then(async function({beep, unbeep, rebeep, examine_bytes}) {
  var buffer, file, handle, playButton, stopButton, uploadButton;
  handle = null;
  playButton = document.getElementById('play');
  stopButton = document.getElementById('stop');
  uploadButton = document.getElementById('upload');
  playButton.addEventListener('click', function() {
    if (handle != null) {
      return rebeep(handle);
    } else {
      return handle = beep();
    }
  });
  stopButton.addEventListener('click', function() {
    if (handle != null) {
      return unbeep(handle);
    }
  });
  // handle.free()
  // handle = null
  file = (await new Promise(function(resolve, reject) {
    var handleFile;
    handleFile = function() {
      return resolve(this.files[0]);
    };
    return uploadButton.addEventListener('change', handleFile, false);
  }));
  console.log(file);
  buffer = new Uint8Array((await file.arrayBuffer()));
  return examine_bytes(buffer);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiPGFub255bW91cz4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUE7O0FBQUEsQ0FBQSxDQUFDLFNBQUQsQ0FBQSxHQUFjLE9BQUEsQ0FBUSxNQUFSLENBQWQ7O0FBRUEsTUFBQSxDQUFPLFFBQVAsQ0FDRSxDQUFDLEtBREgsQ0FDUyxPQUFPLENBQUMsS0FEakIsQ0FFRSxDQUFDLElBRkgsQ0FFUSxNQUFBLFFBQUEsQ0FBQyxDQUFDLElBQUQsRUFBTyxNQUFQLEVBQWUsTUFBZixFQUF1QixhQUF2QixDQUFELENBQUE7QUFDUixNQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLFVBQUEsRUFBQSxVQUFBLEVBQUE7RUFBSSxNQUFBLEdBQVM7RUFDVCxVQUFBLEdBQWEsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsTUFBeEI7RUFDYixVQUFBLEdBQWEsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsTUFBeEI7RUFDYixZQUFBLEdBQWUsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsUUFBeEI7RUFFZixVQUFVLENBQUMsZ0JBQVgsQ0FBNEIsT0FBNUIsRUFBcUMsUUFBQSxDQUFBLENBQUE7SUFDbkMsSUFBRyxjQUFIO2FBQ0UsTUFBQSxDQUFPLE1BQVAsRUFERjtLQUFBLE1BQUE7YUFHRSxNQUFBLEdBQVMsSUFBQSxDQUFBLEVBSFg7O0VBRG1DLENBQXJDO0VBTUEsVUFBVSxDQUFDLGdCQUFYLENBQTRCLE9BQTVCLEVBQXFDLFFBQUEsQ0FBQSxDQUFBO0lBQ25DLElBQUcsY0FBSDthQUNFLE1BQUEsQ0FBTyxNQUFQLEVBREY7O0VBRG1DLENBQXJDLEVBWEo7OztFQWlCSSxJQUFBLEdBQU8sQ0FBQSxNQUFNLElBQUksT0FBSixDQUFZLFFBQUEsQ0FBQyxPQUFELEVBQVUsTUFBVixDQUFBO0FBQzdCLFFBQUE7SUFBTSxVQUFBLEdBQWEsUUFBQSxDQUFBLENBQUE7YUFBRyxPQUFBLENBQVEsSUFBQyxDQUFBLEtBQUssQ0FBQyxDQUFELENBQWQ7SUFBSDtXQUNiLFlBQVksQ0FBQyxnQkFBYixDQUE4QixRQUE5QixFQUF3QyxVQUF4QyxFQUFvRCxLQUFwRDtFQUZ1QixDQUFaLENBQU47RUFJUCxPQUFPLENBQUMsR0FBUixDQUFZLElBQVo7RUFDQSxNQUFBLEdBQVMsSUFBSSxVQUFKLENBQWdCLENBQUEsTUFBTSxJQUFJLENBQUMsV0FBTCxDQUFBLENBQU4sQ0FBaEI7U0FDVCxhQUFBLENBQWMsTUFBZDtBQXhCSSxDQUZSIiwic291cmNlc0NvbnRlbnQiOlsie3Byb21pc2lmeX0gPSByZXF1aXJlICd1dGlsJ1xuXG5pbXBvcnQoJy4uL3BrZycpXG4gIC5jYXRjaCBjb25zb2xlLmVycm9yXG4gIC50aGVuICh7YmVlcCwgdW5iZWVwLCByZWJlZXAsIGV4YW1pbmVfYnl0ZXN9KSAtPlxuICAgIGhhbmRsZSA9IG51bGxcbiAgICBwbGF5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgJ3BsYXknXG4gICAgc3RvcEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkICdzdG9wJ1xuICAgIHVwbG9hZEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkICd1cGxvYWQnXG5cbiAgICBwbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIgJ2NsaWNrJywgLT5cbiAgICAgIGlmIGhhbmRsZT9cbiAgICAgICAgcmViZWVwIGhhbmRsZVxuICAgICAgZWxzZVxuICAgICAgICBoYW5kbGUgPSBiZWVwKClcblxuICAgIHN0b3BCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciAnY2xpY2snLCAtPlxuICAgICAgaWYgaGFuZGxlP1xuICAgICAgICB1bmJlZXAgaGFuZGxlXG4gICAgICAgICMgaGFuZGxlLmZyZWUoKVxuICAgICAgICAjIGhhbmRsZSA9IG51bGxcblxuICAgIGZpbGUgPSBhd2FpdCBuZXcgUHJvbWlzZSAocmVzb2x2ZSwgcmVqZWN0KSAtPlxuICAgICAgaGFuZGxlRmlsZSA9IC0+IHJlc29sdmUgQGZpbGVzWzBdXG4gICAgICB1cGxvYWRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciAnY2hhbmdlJywgaGFuZGxlRmlsZSwgbm9cblxuICAgIGNvbnNvbGUubG9nIGZpbGVcbiAgICBidWZmZXIgPSBuZXcgVWludDhBcnJheSAoYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpKVxuICAgIGV4YW1pbmVfYnl0ZXMgYnVmZmVyXG4iXX0=
//# sourceURL=coffeescript